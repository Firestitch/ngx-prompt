<form
    fsForm
    [submit]="select">
  <fs-dialog mobileMode="float">
    <h2 mat-dialog-title>
      {{ config.title }}
    </h2>
    <mat-dialog-content tabindex="-1">
      <div class="fs-column">
        {{ config.template }}
        <fs-autocomplete
            [fetch]="fetch"
            [fetchOnFocus]="config.fetchOnFocus"
            [displayWith]="displayWith"
            [(ngModel)]="result"
            [placeholder]="config.label"
            (ngModelChange)="change()"
            [required]="config.required"
            name="result">
          <ng-template
              fsAutocompleteTemplate
              let-data="data">
            {{ data.name }}
          </ng-template>
        </fs-autocomplete>
      </div>
    </mat-dialog-content>
    <mat-dialog-actions>
      <ng-container *ngIf="!config.commitOnSelect">
        <button
            mat-button
            color="primary"
            type="submit">
          Continue
        </button>
      </ng-container>
      <ng-container *ngIf="config.cancelShow">
        <button
            mat-button
            [color]="config.commitOnSelect ? 'primary' : ''"
            [mat-dialog-close]="undefined"
            type="button">
          {{ config.cancelLabel }}
        </button>
      </ng-container>
    </mat-dialog-actions>
  </fs-dialog>
</form>